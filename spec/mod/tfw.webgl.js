require("tfw.webgl",function(e,t){function r(){return m(s,arguments)}function n(e,t){var r=e.createProgram();e.attachShader(r,c(e,t.vert||"//No Vertex Shader")),e.attachShader(r,u(e,t.frag||"//No Fragment Shader")),e.linkProgram(r),this.program=r,Object.freeze(this.program),this.use=function(){e.useProgram(r)},this.use();var n,o,s={},m=e.getProgramParameter(r,e.ACTIVE_ATTRIBUTES);for(n=0;n<m;n++)o=e.getActiveAttrib(r,n),s[o.name]=e.getAttribLocation(r,o.name),this["$"+o.name]=e.getAttribLocation(r,o.name);Object.freeze(s),this.attribs=s;var f={},E=e.getProgramParameter(r,e.ACTIVE_UNIFORMS);for(n=0;n<E;n++)o=e.getActiveUniform(r,n),f[o.name]=e.getUniformLocation(r,o.name),Object.defineProperty(this,"$"+o.name,{set:a(e,o,f[o.name]),get:i(o),enumerable:!0,configurable:!0});Object.freeze(f),this.uniforms=f}function a(e,t,r){var n="_$"+t.name;switch(t.type){case e.BYTE:case e.UNSIGNED_BYTE:case e.SHORT:case e.UNSIGNED_SHORT:case e.INT:case e.UNSIGNED_INT:return 1==t.size?function(t){e.uniform1i(r,t),this[n]=t}:function(t){e.uniform1iv(r,t),this[n]=t};case e.FLOAT:return 1==t.size?function(t){e.uniform1f(r,t),this[n]=t}:function(t){e.uniform1fv(r,t),this[n]=t}}}function i(e){var t="_$"+e.name;return function(){return this[t]}}function o(e,t,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(r),console.error("An error occurred compiling the shader: "+t.getShaderInfoLog(n)),null)}function u(e,t){return o(e.FRAGMENT_SHADER,e,t)}function c(e,t){return o(e.VERTEX_SHADER,e,t)}var s={en:{}},m=require("$").intl,f=require("tfw.message"),E=function(e){Object.defineProperty(this,"canvas",{value:e,writable:!1,configurable:!1,enumerable:!0}),Object.defineProperty(this,"gl",{value:e.getContext("webgl")||e.getContext("experimental-webgl"),writable:!1,configurable:!1,enumerable:!0}),this.render=function(){}};E.prototype.start=function(e){if("function"==typeof e&&(this.render=e),!this._animationIsOn){var t=this,r=0,n=function(e){t._animationIsOn&&window.requestAnimationFrame(n),t.render(e,e-r),r=e};window.requestAnimationFrame(n),this._animationIsOn=!0}f.info("<html>Utilisez les <b>flèches</b> pour changer l'angle de la <b>caméra</b>.<br/>Et <b>+ et -</b> pour zoomer.")},E.prototype.stop=function(){this._animationIsOn=!1};var T=function(e,t,r){var n=e.createTexture();return e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,r,0,e.RGBA,e.UNSIGNED_BYTE,null),n},g=function(e){var t=e.width,r=e.height,n=document.createElement("canvas");n.setAttribute("width",t),n.setAttribute("height",r);var a=n.getContext("2d");return a.drawImage(e,0,0),a.getImageData(0,0,t,r).data};e.Renderer=E,e.Program=n,e.createTextureForFB=T,e.getDataFromImage=g,t.exports._=r});
//# sourceMappingURL=tfw.webgl.js.map