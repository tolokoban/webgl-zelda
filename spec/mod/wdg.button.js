require("wdg.button",function(e,t){function n(){return a(o,arguments)}function i(e,t){"undefined"==typeof t&&(t="standard");var i=e,o=e;"yes"==o&&(i="ok"),"no"==o&&(i="cancel");var a=new c({text:n(o),icon:i,value:e,type:t});return a}var o={en:{cancel:"Cancel",close:"Close",delete:"Delete",edit:"Edit",no:"No",ok:"OK",save:"Save",yes:"Yes"},fr:{cancel:"Annuler",close:"Fermer",delete:"Supprimer",edit:"Editer",no:"Non",ok:"Valider",save:"Sauver",yes:"Oui"}},a=require("$").intl,r=require("dom"),s=require("tfw.data-binding"),l=require("wdg.icon"),u=["standard","simple","warning","shadow","special"],c=function(e){var t=this,n=r.elem(this,"string"==typeof e.href?"a":"button","wdg-button","theme-elevation-2");"string"==typeof e.href&&e.href.length>0&&r.att(n,"href",e.href),"string"==typeof e.target&&e.target.length>0&&r.att(n,"target",e.target);var i=null,o=function(){r.clear(n),i?(r.add(n,i.element,t.text),t._icon=i):(n.textContent=t.text,delete t._icon)};s.prop(this,"value"),s.propEnum(u)(this,"type")(function(e){u.forEach(function(e){r.removeClass(n,e)}),r.addClass(n,e)}),s.prop(this,"icon")(function(e){i=!e||"string"==typeof e&&0==e.trim().length?null:e.element?e.element:new l({content:e,size:"1.2em"}),o()}),s.propString(this,"text")(function(e){o()}),s.propBoolean(this,"enabled")(function(e){e?r.removeAtt(n,"disabled"):r.att(n,"disabled","yes")}),s.propBoolean(this,"small")(function(e){e?r.addClass(n,"small"):r.removeClass(n,"small")}),s.prop(this,"action",0),s.propAddClass(this,"wide"),s.propRemoveClass(this,"visible","hide"),e=s.extend({text:"OK",href:null,target:null,value:"action",action:0,icon:"",small:!1,enabled:!0,wide:!1,visible:!0,type:"standard"},e,this),r.on(this.element,{down:function(e){t.enabled&&(r.addClass(n,"theme-elevation-8"),e.stopPropagation(),e.preventDefault())},up:function(){r.removeClass(n,"theme-elevation-8")},tap:t.fire.bind(t),keydown:function(e){13!=e.keyCode&&32!=e.keyCode||(e.preventDefault(),e.stopPropagation(),t.fire())}})};c.prototype.on=function(e){return s.bind(this,"action",e)},c.prototype.fire=function(){if(this.enabled){var e=this.href;"string"==typeof e&&0!=e.trim().length||s.fire(this,"action",this.value)}},c.prototype.waitOn=function(e){"undefined"==typeof this._backup&&(this._backup={text:this.text,icon:this.icon,enabled:this.enabled}),"string"==typeof e&&(this.text=e),this.enabled=!1,this.icon="wait",this._icon&&(this._icon.rotate=!0)},c.prototype.waitOff=function(){this.text=this._backup.text,this.icon=this._backup.icon,this.enabled=this._backup.enabled,this._icon&&(this._icon.rotate=!1),delete this._backup},c.Cancel=function(e){return i("cancel",e||"simple")},c.Close=function(){return i("close","simple")},c.Delete=function(){return i("delete","warning")},c.No=function(){return i("no")},c.Ok=function(e){return i("ok",e||"default")},c.Edit=function(){return i("edit")},c.Save=function(){return i("save","special")},c.Yes=function(e){return i("yes",e||"default")},c.default={caption:"OK",type:"default"},t.exports=c,t.exports._=n});
//# sourceMappingURL=wdg.button.js.map