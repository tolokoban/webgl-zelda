require("world",function(o,t){function r(){return i(e,arguments)}var e={en:{}},i=require("$").intl,h=require("levels"),a=(require("tfw.webgl"),require("world.terrain.faces")),l=require("world.terrain.water"),s=require("keys"),n=function(o){this._gl=o,this.lookTheta=2*Math.random()*Math.PI,this.lookPhi=Math.random()*Math.PI/2,this.lookRho=5,this.worldTerrainFaces=new a(o),this.worldTerrainWater=new l(o)};n.prototype.loadTerrain=function(o){var t=h[o].alti,r=t.length,e=t[0].length;this.lookX=e/2,this.lookY=r/2,this.lookZ=t[Math.floor(this.lookY)][Math.floor(this.lookX)],this.worldTerrainFaces.loadTerrain(o),this.worldTerrainWater.loadTerrain(o)};var k=["lookX","lookY","lookZ","lookTheta","lookPhi","lookRho"];n.prototype.render=function(o,t,r,e){var i=this,h=this._gl;s.test(107)?this.lookRho=Math.max(1,this.lookRho-.005*t):s.test(109)&&(this.lookRho=Math.min(10,this.lookRho+.005*t)),s.test(39)?this.lookTheta=this.lookTheta-.004*t:s.test(37)&&(this.lookTheta=this.lookTheta+.004*t),s.test(40)?this.lookPhi=Math.max(0,this.lookPhi-.002*t):s.test(38)&&(this.lookPhi=Math.min(Math.PI/2,this.lookPhi+.002*t)),h.viewport(0,0,r,e),h.clearColor(0,0,1,1),h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT),[this.worldTerrainFaces,this.worldTerrainWater].forEach(function(t){k.forEach(function(o){t[o]=i[o]}),t.render(o,r,e)})},t.exports=n,t.exports._=r});
//# sourceMappingURL=world.js.map