require("world",function(o,t){function e(){return i(r,arguments)}var r={en:{}},i=require("$").intl,h=require("levels"),l=(require("tfw.webgl"),require("world.terrain.faces")),s=require("world.terrain.edges"),a=require("keys"),n=function(o){this._gl=o,this.lookTheta=0,this.lookPhi=Math.PI/4,this.lookRho=10,this.worldTerrainFaces=new l(o),this.worldTerrainEdges=new s(o)};n.prototype.loadTerrain=function(o){var t=h[o].alti,e=t.length,r=t[0].length;this.lookX=r/2,this.lookY=e/2,this.lookZ=t[Math.floor(this.lookY)][Math.floor(this.lookX)],this.worldTerrainFaces.loadTerrain(o),this.worldTerrainEdges.loadTerrain(o)};var k=["lookX","lookY","lookZ","lookTheta","lookPhi","lookRho"];n.prototype.render=function(o,t,e,r){var i=this,h=this._gl;a.test(107)?this.lookRho=Math.max(1,this.lookRho-.005*t):a.test(109)&&(this.lookRho=Math.min(10,this.lookRho+.005*t)),a.test(39)?this.lookTheta=this.lookTheta-.004*t:a.test(37)&&(this.lookTheta=this.lookTheta+.004*t),a.test(40)?this.lookPhi=Math.max(0,this.lookPhi-.002*t):a.test(38)&&(this.lookPhi=Math.min(Math.PI/2,this.lookPhi+.002*t)),h.viewport(0,0,e,r),h.clearColor(0,0,1,1),h.clear(h.COLOR_BUFFER_BIT|h.DEPTH_BUFFER_BIT),[this.worldTerrainFaces].forEach(function(t){k.forEach(function(o){t[o]=i[o]}),t.render(o,e,r)})},t.exports=n,t.exports._=e});
//# sourceMappingURL=world.js.map